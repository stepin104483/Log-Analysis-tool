<?xml version="1.0" encoding="UTF-8"?>

<!-- Carrier policy XML for ATT
$Header: //components/rel/mmcp.mpss/10.0/policyman/configurations/Carrier/ATT/carrier_policy.xml#1 $
-->
<policy name        = "ATT"
        changelist  = "$Change: 14971833 $"
        policy_ver  = "125.1.5"
>
  <initial>

    <mcc_list name="us_mccs"> 310 311 312 313 314 315 316 </mcc_list>

    <rat_capability_if base="none">
      <include> C H G W L 5G </include>
    </rat_capability_if>

    <define_fullrat_config>
      <rf_bands base="hardware" />
      <rat_capability base="hardware" />
    </define_fullrat_config>

    <boolean_define name="cm:skip_3gpp2_cap_emerg" initial="true" />

    <rf_band_list name="rf_bands_home">
      <gw_bands  base="current">
        <exclude> 7 8 9 16 17 18 19 20 21 </exclude>
      </gw_bands>
      <lte_bands base="hardware" />
      <tds_bands base="none" />
      <nr5g_sa_bands base="hardware" />
      <nr5g_nsa_bands base="hardware" />
    </rf_band_list>

    <rf_band_list name="rf_bands_roam">
      <gw_bands base="hardware" />
      <lte_bands base="hardware" />
      <tds_bands base="none" />
      <nr5g_sa_bands base="none">
        <include> 2 37 40 65 76 77 78 256 260 </include>
      </nr5g_sa_bands>  
      <nr5g_nsa_bands base="none">
        <include> 2 37 40 65 76 77 78 256 260 </include>
      </nr5g_nsa_bands> 
    </rf_band_list>

    <rf_bands_if list="rf_bands_home" />

  </initial>

  <if>
    <any_of>
      <not> <phone_operating_mode> ONLINE </phone_operating_mode> </not>
      <not> <have_location /> </not>
    </any_of>
    <then>
      <stop />
    </then>
  </if>

  <!-- Beyond this point, the device is ONLINE and has a location. -->
  <svc_mode> FULL </svc_mode>

  <!-- Determine configuration based on location -->
  <if>
    <location_mcc_in list="us_mccs" />
    <then>    
      <rf_bands list="rf_bands_home" />
      <rat_capability base="hardware">
        <exclude> G </exclude>
      </rat_capability>      
    </then>
    <else>
      <rf_bands list="rf_bands_roam" />
      <rat_capability base="hardware" />
    </else>
  </if>

</policy>